<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title></title>

    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="images/favicon.png" />
  </head>

  <body>
    <body>
		<span id="playerElo"></span>
	</body>
	
	<script>
	var oReq = new XMLHttpRequest();
	oReq.addEventListener("load", getAvgData);
	oReq.open("GET", "https://api.faceit.com/stats/v1/stats/time/users/62d12eaa-b0a6-4f8e-a1b9-c0c742d95cb1/games/csgo", true);
	oReq.send()
	
	
	function getAvgData() {
        var test = JSON.parse(this.responseText);
		if (test.length == 0)
			return;

		var kills = 0, HS = 0, divid = 0, KD = 0, KR = 0;
		for (i = 0; i < test.length; i++) {
			if (test[i].gameMode !== '5v5') {
				length = length + 1;
			} else {
				divid = divid + 1;
				kills = parseInt(test[i].i6) + kills;
				HS = parseInt(test[i].c4 * 100) + HS;
				KD = parseInt(test[i].c2 * 100) + KD;
				KR = parseInt(test[i].c3 * 100) + KR;
			}
		}

		avgKills = Math.round(kills / divid);
		avgHs = Math.round(HS / divid / 100);
		avgKD = (KD / divid / 100).toFixed(2);
		avgKR = (KR / divid / 100).toFixed(2);
		document.getElementById("playerElo").innerHTML = "Avg. Kills: " + avgKills + " - Avg. HS: " + avgHs + "% - Avg. K/D: " + avgKD + " - Avg. K/R: " + avgKR;
	}
	</script>
	
  </body>
</html>


